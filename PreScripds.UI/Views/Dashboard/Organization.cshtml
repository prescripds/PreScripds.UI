@model PreScripds.UI.Models.OrganizationViewModel
@using PreScripds.UI.Common;
@using PreScripds.Domain;
@{
    ViewBag.Title = "Organization";
    Layout = "~/Views/Shared/_OpenLayout.cshtml";
}

@using (Html.BeginForm("Organization", "Dashboard", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{

    @Html.AntiForgeryToken()
    <div class="col-md-12 blackBg">

        @Html.ValidationSummary()<br />
        <div class="validation-summary-errors" style="display:none" id="emailExistsDiv">
            <ul>
                <li class="success" id="userNameExists">
                </li>
            </ul>
        </div>

        <h4><span>Let Us Know You More.</span><hr /> </h4>
        <div class="row">
            <div class="col-md-4 col-sm-6">
                <div class="form-group">
                    <label class="control-label" for="FirstName">Organization Type*</label>
                    @Html.EnumDropDownListFor(m => m.OrganizationType, new { @class = "form-control" }, typeof(PreScripds.Domain.Enums.OrganizationType))
                    @Html.HiddenFor(x => x.OrganizationType, new { @id = "hdfOrgType" })
                </div>
            </div>
        </div>
        <hr />
        <div id="organizationDtlsN">
            <h4><span>Organization Details</span><hr /> </h4>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FirstName">Organization Name</label>
                        @Html.TextBoxFor(m => m.OrganizationName, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="LastName">Organization Address</label>
                        @Html.TextBoxFor(m => m.OrganizationAddress, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="MiddleName">Organization Phone</label>
                        @Html.TextBoxFor(m => m.OrganizationPhone, new { @class = "form-control" })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FirstName">Organization Mobile</label>
                        @Html.TextBoxFor(m => m.OrganizationMobile, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="LastName">Organization Email</label>
                        @Html.TextBoxFor(m => m.OrganizationEmail, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="MiddleName">Contact Person</label>
                        @Html.TextBoxFor(m => m.OrganizationContact, new { @class = "form-control" })
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FirstName">Date for verification by us</label>
                        @Html.TextBoxFor(m => m.VerificationDate, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="LastName">Please @Html.ActionLink("Click Here", "CheckList", "Dashboard") to download the check list required during verification by us.</label>
                    </div>
                </div>
            </div>
        </div>

        <div id="organizationDtlsE">
            <h4><span>Profile Details</span><hr /> </h4>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FirstName">Referenced Email</label>

                        @Html.TextBoxFor(m => m.ReferencedEmail, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="LastName">Organization Name</label>
                        @Html.TextBoxFor(m => m.OrganizationName, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="MiddleName">Department</label>
                        @Html.DropDownListFor(m => m.DepartmentId, Model.Department.ToSelectListItems(model => model.DepartmentId.ToString(), model => model.DepartmentName), "--Select--", new { @class = "form-control" })

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="FirstName">Employee Id</label>
                        @*Check for EMPID starting if super Admin only*@
                        @Html.TextBoxFor(m => m.EmployeeIdOrg, new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="form-group">
                        <label class="control-label" for="LastName">Designation</label>
                        @Html.TextBoxFor(m => m.Designation, new { @class = "form-control" })
                    </div>
                </div>
            </div>
        </div>
        <div class="row" id="buttons">
            <div class="col-md-12 buttons">
                <button type="submit" class="btn btn-warning pull-right" value="Save">Save</button>

                <button type="reset" class="btn btn-warning pull-right" value="Clear">Clear</button>
            </div>
        </div>
    </div>
    @Html.MessageDialogRedirect(Model.Message, "AddRole", "Dashboard", true)
}
@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            @*@Html.Iff(Model.CreationSuccessful, Html.Raw("$('#success-modal').modal('show');"))*@
            var orgVal = $('#OrganizationType').val();
            if (orgVal == "") {
                $('#organizationDtlsN').attr('style', 'display:none');
                $('#organizationDtlsE').attr('style', 'display:none');
                $('#buttons').attr('style', 'display:none');
            }
            if (orgVal == 1) {
                $('#organizationDtlsE').attr('style', 'display:none');
            }
            if (orgVal == 2) {
                $('#organizationDtlsN').attr('style', 'display:none');
            }
            $('#OrganizationType').on('change', function () {
                var orgType = $(this).val();
                $('hdfOrgType').val(orgType);
                if (orgType == 1) {
                    $('#organizationDtlsN').removeAttr('style');
                    $('#organizationDtlsE').attr('style', 'display:none');
                    $('#buttons').removeAttr('style');
                }
                if (orgType == 2) {
                    $('#organizationDtlsE').removeAttr('style');
                    $('#organizationDtlsN').attr('style', 'display:none');
                    $('#buttons').removeAttr('style');
                }
            });
        });

    </script>
}